# üåê Internacionalizaci√≥n (i18n)

Este documento describe c√≥mo est√° implementada la internacionalizaci√≥n en este template, las abstracciones utilizadas y c√≥mo agregar o modificar idiomas. La soluci√≥n se basa en `react-i18next` e `i18next`, y sigue los principios de **Clean Architecture** para que la funcionalidad de i18n sea modular y escalable.

---

## üîç Tabla de Contenidos

- [üìù Visi√≥n General](#visi√≥n-general)
- [üåü Estructura de Carpetas](#estructura-de-carpetas)
- [‚öôÔ∏è Configuraci√≥n de i18n](#configuraci√≥n-de-i18n)
- [üìÇ Archivos de Traducci√≥n](#archivos-de-traducci√≥n)
- [üìö Extensi√≥n de Tipos con i18nTypes.ts](#extensi√≥n-de-tipos-con-i18ntypests)
- [üìù Uso en Componentes](#uso-en-componentes)
- [üé° Cambio de Idioma](#cambio-de-idioma)
- [‚úîÔ∏è Buenas Pr√°cticas](#buenas-pr√°cticas)
- [üå± Perspectivas de Extensi√≥n](#perspectivas-de-extensi√≥n)

---

## üìù Visi√≥n General

La internacionalizaci√≥n permite que la aplicaci√≥n soporte m√∫ltiples idiomas y ofrezca una experiencia de usuario adaptada a la localizaci√≥n. Para ello, este template:

- Carga y gestiona recursos de traducci√≥n.
- Provee un contexto global para acceder a las funciones de traducci√≥n mediante el hook `useTranslation`.
- Permite cambiar el idioma en tiempo real a trav√©s de un componente `LanguageSwitcher`.

---

## üåü Estructura de Carpetas

La organizaci√≥n de la internacionalizaci√≥n se encuentra en `src/core/i18n/` y tiene la siguiente estructura:

```bash
src/
‚îî‚îÄ‚îÄ core/
    ‚îî‚îÄ‚îÄ i18n/
        ‚îú‚îÄ‚îÄ locales/
        ‚îÇ   ‚îú‚îÄ‚îÄ en.json         # Traducciones para ingl√©s
        ‚îÇ   ‚îú‚îÄ‚îÄ es.json         # Traducciones para espa√±ol
        ‚îÇ   ‚îî‚îÄ‚îÄ ...             # Otros idiomas (opcional)
        ‚îú‚îÄ‚îÄ i18n.ts             # Configuraci√≥n e inicializaci√≥n de i18next
        ‚îú‚îÄ‚îÄ i18nTypes.ts        # (Opcional) Tipos personalizados para i18n
        ‚îî‚îÄ‚îÄ LanguageSwitcher.tsx# Componente para cambiar el idioma en la UI
```

---

## ‚öôÔ∏è Configuraci√≥n de i18n

El archivo `i18n.ts` configura `i18next` para que la aplicaci√≥n use los recursos de traducci√≥n definidos. Por ejemplo:

```typescript
// src/core/i18n/i18n.ts
import i18n from 'i18next';
import { initReactI18next } from 'react-i18next';

import en from './locales/en.json';
import es from './locales/es.json';

i18n
  .use(initReactI18next)
  .init({
    compatibilityJSON: 'v3',
    lng: 'en',           // Idioma por defecto
    fallbackLng: 'en',   // Idioma de respaldo si falta alguna traducci√≥n
    resources: {
      en: { translation: en },
      es: { translation: es },
    },
    interpolation: {
      escapeValue: false, // React ya protege contra XSS
    },
  });

export default i18n;
```

---

## üìÇ Archivos de Traducci√≥n

Los archivos JSON contienen las claves y los textos traducidos. Por ejemplo:

```json
// src/core/i18n/locales/en.json
{
  "welcome": "Welcome to our App!",
  "login": {
    "title": "Login",
    "button": "Sign In"
  },
  "errors": {
    "networkError": "Network Error"
  }
}
```

```json
// src/core/i18n/locales/es.json
{
  "welcome": "¬°Bienvenido a nuestra aplicaci√≥n!",
  "login": {
    "title": "Iniciar Sesi√≥n",
    "button": "Ingresar"
  },
  "errors": {
    "networkError": "Error de Red"
  }
}
```

---

## üìö Extensi√≥n de Tipos con i18nTypes.ts

Para mejorar el tipado en TypeScript y obtener autocompletado en las claves de traducci√≥n:

```typescript
// src/core/i18n/i18nTypes.ts
import 'react-i18next';
import en from './locales/en.json';
import es from './locales/es.json';

const resources = {
  en: { translation: en },
  es: { translation: es },
};

declare module 'react-i18next' {
  interface CustomTypeOptions {
    defaultNS: 'translation';
    resources: typeof resources['en'] | typeof resources['es'];
  }
}
```

---

## üìù Uso en Componentes

```tsx
import { useTranslation } from 'react-i18next';

const LoginScreen = () => {
  const { t } = useTranslation();
  return (
    <View>
      <Text>{t('login.title')}</Text>
      <Button title={t('login.button')} onPress={() => {}} />
    </View>
  );
};
```

---

## üé° Cambio de Idioma

```tsx
import i18n from './i18n';

const changeLanguage = (lang: string) => {
  i18n.changeLanguage(lang);
};
```

---

## ‚úîÔ∏è Buenas Pr√°cticas

- **Usar claves descriptivas** en los archivos JSON.
- **Evitar interpolaci√≥n en JSX**, usar `{t('key')}` en su lugar.
- **Persistir el idioma seleccionado** en `AsyncStorage` para mantener la configuraci√≥n.

---

## üå± Perspectivas de Extensi√≥n

- Agregar **deteci√≥n de idioma del sistema**.
- Implementar **traducciones din√°micas desde API**.
- Integraci√≥n con **formato de fechas y monedas locales**.
